<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Fruit Cut â€” Offline (with Eruda)</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="container">
  <header class="header"><h1>ğŸ‰ Fruit Cut â€” Offline</h1></header>

  <div class="hud">
    <div class="stat">Score: <strong id="score">0</strong></div>
    <div class="stat">Lives: <strong id="lives">3</strong></div>
    <div class="stat">Coins: <strong id="coins">0</strong></div>
    <div class="stat">Level: <strong id="level">1</strong></div>
  </div>

  <div id="gameWrapper">
    <div id="gameArea" aria-label="Game area"></div>
    <div id="status"><span id="statusText">Running: NO</span></div>
    <div id="bigStart">START</div>
  </div>

  <div class="controls">
    <button id="startBtn" class="btn ghost">Start</button>
    <button id="pauseBtn" class="btn ghost">Pause</button>
    <button id="restartBtn" class="btn ghost">Restart</button>
    <button id="erudaToggle" class="btn ghost" title="Toggle eruda console">Console</button>
  </div>

  <p class="tip">Tip: Swipe fruits to slice. Avoid bombs ğŸ’£</p>
</div>

<!-- Eruda (mobile dev console) - loads from CDN -->
<script>
  // Load eruda only when user toggles or after small delay (so offline still works if CDN blocked)
  function loadEruda(callback){
    if(window.eruda) { if(callback) callback(); return; }
    var s = document.createElement('script');
    s.src = 'https://cdn.jsdelivr.net/npm/eruda';
    s.onload = function(){ eruda.init(); console.log('Eruda loaded'); if(callback) callback(); };
    s.onerror = function(){ console.warn('Eruda failed to load from CDN'); };
    document.body.appendChild(s);
  }
  // Shortcut: load after 1.5s quietly (best-effort)
  setTimeout(()=> { try{ loadEruda(); } catch(e){ console.warn('Eruda load error', e); } }, 1500);
</script>

<script src="game.js"></script>
<script>
  // Toggle button for eruda in UI
  document.getElementById('erudaToggle').addEventListener('click', ()=>{
    if(window.eruda){
      // open/close eruda panel
      try{
        eruda.toggle();
      }catch(e){
        console.warn('eruda.toggle error', e);
      }
    } else {
      loadEruda(()=> { if(window.eruda) eruda.show(); });
    }
  });
</script>
</body>
  </html>
